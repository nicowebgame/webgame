*{box-sizing:border-box;margin:0;padding:0;font-family:Inter, system-ui, Arial, sans-serif}
html,body,#gameCanvas{height:100%}
body{background:linear-gradient(180deg,#0f172a,#071024);display:flex;align-items:center;justify-content:center;min-height:100vh;color:#e6eef8}
.wrap{position:relative;width:100%;max-width:820px;margin:24px}
#gameContainer{position:relative;z-index:0;width:100%;height:640px;background:#071022;border-radius:12px;box-shadow:0 10px 30px rgba(2,6,23,0.6);overflow:hidden}
.hud{position:absolute;left:12px;top:12px;background:rgba(255,255,255,0.04);padding:6px 10px;border-radius:8px;font-weight:600;z-index:1100}
.best-hud{position:absolute;left:12px;top:56px;background:rgba(255,255,255,0.04);padding:6px 10px;border-radius:8px;font-weight:700;z-index:1100}
.overlay{position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;background:linear-gradient(180deg,rgba(2,6,23,0.6),rgba(2,6,23,0.4));backdrop-filter: blur(4px);z-index:1200;pointer-events:auto}
.overlay h1{font-size:48px;letter-spacing:2px}
.overlay p{max-width:640px;text-align:center;color:#bcd4ff}
button{appearance:none;border:0;background:#ffd166;color:#082032;padding:12px 18px;border-radius:10px;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(255,209,102,0.15)}
button:active{transform:translateY(1px)}
#menu{width:100%;height:100%}
.menuRow{display:flex;gap:10px}
@media(max-width:720px){#gameContainer{height:520px}}

/* fire button removed - mobile uses taps on sides for lane change */

/* Speedometer */
#speedo{position:absolute;left:14px;bottom:18px;width:110px;height:110px;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1300}
.speedo-svg{width:86px;height:86px;display:block}
.speedo-ring{fill:none;stroke:rgba(255,255,255,0.06);stroke-width:6}
.needle{stroke:#ffd166;stroke-width:3;transform-origin:50% 50%;transform:rotate(-120deg)}
.speedo-label{margin-top:6px;font-weight:800;font-size:12px;color:#e6eef8;font-family:Inter, system-ui, Arial, sans-serif}

@media(max-width:540px){#speedo{left:10px;bottom:12px;width:92px;height:92px}.speedo-svg{width:72px;height:72px}}

/* Speed edge effects */
.speed-effect{position:absolute;top:0;bottom:0;width:22%;pointer-events:none;mix-blend-mode:screen;opacity:0;transition:opacity 160ms ease, transform 180ms cubic-bezier(.2,.9,.3,1);z-index:1200;overflow:hidden}
.speed-effect.left{left:0;background:linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));}
.speed-effect.right{right:0;background:linear-gradient(270deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));}

/* animated white streaks to simulate wind */
.speed-effect::before{
	content:'';position:absolute;inset:0;background-image:repeating-linear-gradient(120deg, rgba(255,255,255,0.12) 0 2px, rgba(255,255,255,0.02) 2px 12px);opacity:0.9;transform:translate3d(0,0,0);background-size:200% 200%;animation:wind var(--wind-duration,1200ms) linear infinite;pointer-events:none}

@keyframes wind{from{background-position:0% 0%}to{background-position:100% 100%}}

/* wind streaks crossing the screen (time-travel / speed effect) */
.wind-streak{position:absolute;top:0;left:-40%;height:2px;background:linear-gradient(90deg, rgba(255,255,255,0.0) 0%, rgba(255,255,255,0.85) 50%, rgba(255,255,255,0.0) 100%);filter:blur(0.8px);pointer-events:none;transform:translateZ(0);mix-blend-mode:screen;z-index:1400}
@keyframes windSlide{from{transform:translateX(-40vw)}to{transform:translateX(140vw)}}

@media(max-width:720px){.speed-effect{width:28%}}

/* Top panel with user and leaderboard */
.top-panel{position:fixed;right:12px;top:12px;width:220px;z-index:1400;color:#e6eef8}
.user-box{background:rgba(255,255,255,0.03);padding:8px;border-radius:8px;margin-bottom:8px;font-weight:600}
.leaderboard{background:rgba(255,255,255,0.02);padding:8px;border-radius:8px}
.leaderboard h4{margin:0 0 6px 0;font-size:13px}
.leaderboard ol{padding-left:18px;margin:0;font-size:13px}
.leaderboard li{margin:4px 0}

/* audio control */
.audio-control{font-size:13px;color:#e6eef8;display:flex;align-items:center;gap:8px}
.audio-control button{background:transparent;color:#ffd166;padding:6px 8px;border-radius:6px;border:1px solid rgba(255,209,102,0.18);cursor:pointer}
.audio-control input[type=range]{vertical-align:middle}

/* Pause button in top-right of the game container */
#pauseBtn{position:absolute;right:12px;top:12px;z-index:1500;background:rgba(8,32,50,0.9);color:#ffd166;padding:8px 10px;border-radius:8px;border:1px solid rgba(255,209,102,0.12);cursor:pointer;font-weight:700}
@media(max-width:720px){#pauseBtn{right:8px;top:8px;padding:6px 8px}}
/* Settings button */
#settingsBtn{position:absolute;right:84px;top:12px;z-index:1500;background:rgba(8,32,50,0.9);color:#ffd166;padding:8px 10px;border-radius:8px;border:1px solid rgba(255,209,102,0.12);cursor:pointer;font-weight:700}
@media(max-width:720px){#settingsBtn{right:72px;top:8px;padding:6px 8px}}
/* simple settings modal (reuses overlay style) */
.settings-modal{display:none;position:fixed;inset:0;align-items:center;justify-content:center;z-index:1600}
.settings-box{background:rgba(6,12,22,0.98);padding:18px;border-radius:12px;color:#e6eef8;min-width:320px}
.settings-box h3{margin-bottom:8px}
.settings-box select{width:100%;padding:8px;border-radius:8px;border:0;background:rgba(255,255,255,0.03);color:#e6eef8}
.settings-row{display:flex;justify-content:flex-end;gap:8px;margin-top:12px}

/* Snowflake overlay for Christmas mode */
.snowflake{position:absolute;top:-10vh;pointer-events:none;color:white;z-index:1600;font-size:18px;opacity:0.9;will-change:transform,opacity}
@keyframes snowFall{from{transform:translateY(-10vh) translateX(0) translateZ(0);opacity:0.95}to{transform:translateY(110vh) translateX(30px) translateZ(0);opacity:0.7}}
@keyframes snowSway{0%{transform:translateX(0)}50%{transform:translateX(-18px)}100%{transform:translateX(0)}}
.snowflake.small{font-size:12px;opacity:0.85}
.snowflake.large{font-size:26px;opacity:0.95}

/* auth modal tweaks */
#authModal input{background:rgba(255,255,255,0.03);color:#e6eef8;border:0}
#authModal .menuRow{margin-top:8px}
